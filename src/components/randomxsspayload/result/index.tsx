import { XssPayloadsInterface } from "src/types/interface";
import { FunctionComponent } from "react";
import { css } from "@emotion/react";
import { oldTerminalColor } from "@constants/style";

import { chromVersion, safariVersion } from "@constants/versions";
import * as Styled from "./style";

interface ResultProps {
  randomPayload: XssPayloadsInterface;
}

export const Result: FunctionComponent<ResultProps> = ({ randomPayload }) => {
  return (
    <>
      <Styled.VisibleContainer>
        <Styled.Title>Today&#39;s XSS</Styled.Title>
        <Styled.Payload>{randomPayload.payload}</Styled.Payload>
        <Styled.Title>Description of this code</Styled.Title>
        <Styled.Payload>{randomPayload.description}</Styled.Payload>

        <hr
          css={css`
            border: 2px dotted ${oldTerminalColor};
            width: 100%;
            margin-top: 2em;
            margin-bottom: 2em;
            filter: brightness(75%);
          `}
        />
        <Styled.Title>Test the payload</Styled.Title>
        {/* XSS 코드 실제 실행을 위해 */}
        {/* eslint-disable-next-line react/no-danger  */}
        <Styled.XssTestContainer dangerouslySetInnerHTML={{ __html: randomPayload.payload }} />
      </Styled.VisibleContainer>
      <Styled.VersionDescription>
        all of these payloads are tested on chrome {chromVersion} and safari {safariVersion}
      </Styled.VersionDescription>
    </>
  );
};
