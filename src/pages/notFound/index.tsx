import { FunctionComponent, useState, useEffect } from "react";
import { container, notFoundCSS } from "./style";

export const NotFound: FunctionComponent = () => {
  const NOT_FOUND_STR = `Not Found!`;

  const [typeIndex, setTypeIndex] = useState(0);

  useEffect(() => {
    const isSpace = NOT_FOUND_STR[typeIndex] === " ";
    const typingTimer = setTimeout(
      () =>
        setTypeIndex(prev => {
          return prev + 1;
        }),
      isSpace ? 300 : 70,
    );
    return () => {
      clearTimeout(typingTimer);
    };
  }, [typeIndex]);

  return (
    <main css={container}>
      <p css={notFoundCSS}>
        {NOT_FOUND_STR.substring(0, typeIndex)}
        <span>_</span>
      </p>
    </main>
  );
};
